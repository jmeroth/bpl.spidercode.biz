<?php

class api_controller extends base_controller {
	
	/*-------------------------------------------------------------------------------------------------

	-------------------------------------------------------------------------------------------------*/
	public function __construct() {
		parent::__construct();
	} 
		
	/*-------------------------------------------------------------------------------------------------
	Accessed via http://localhost/api/index/	This class echos guest data in json to serve an api call
	-------------------------------------------------------------------------------------------------*/

	public function index() {
		
		header("Content-Type:application/json");
		$q = 'SELECT 
		guests.guest_id,
		guests.guestname,
		guests.gender,
		guests.roomid
		FROM guests';
			
	    # Run the guest query
	    $guests = DB::instance(DB_NAME)->select_rows($q);
		
	    $json_response = json_encode($guests);  					     		
		# provide the response
		echo $json_response;

	} # End of method
	
	
	/*-------------------------------------------------------------------------------------------------
	Accessed via http://localhost/api/weather/	This method dislays wunderground.com weather api
	-------------------------------------------------------------------------------------------------*/
	public function weather() {
        # Setup view
        $this->template->content = View::instance('v_api_weather');
        $this->template->title   = "Current Weather";
		
		$json_string = file_get_contents("http://api.wunderground.com/api/ac31ac78b643946d/conditions/q/NH/North_Conway.json");
		$parsed_json = json_decode($json_string);
		# print_r('parsed_json');
		$location = $parsed_json->{'current_observation'}->{'observation_location'}->{'city'};
		$temp_s = $parsed_json->{'current_observation'}->{'temperature_string'};
		$forecast = $parsed_json->{'current_observation'}->{'forecast_url'};
		$currweather = "<br>Current temperature in ${location} is:  ${temp_s}\n";
		

		# Pass data to the view
    	$this->template->content->currweather = $currweather;
		$this->template->content->forecast = $forecast;

    	# Render template
        echo $this->template;
    }
	
	
	/*-------------------------------------------------------------------------------------------------
	Accessed via http://localhost/api/display/
	This class calls an external api
	-------------------------------------------------------------------------------------------------*/
	public function display() {
		
		# Consuming REST web service
		$rs="http://p3.spidercode.biz/api";
		$qs="";
		$uri="$rs?$qs";
		$cobj=curl_init($uri);
		curl_setopt($cobj,CURLOPT_RETURNTRANSFER,1);
		$json=curl_exec($cobj);
		echo $json;
		$data = json_decode($json);
		foreach ($data as $element => $value) {
			echo $element.'<br>';
			foreach ($value as $item) {
				echo $item.' ';
			}
		}
		
		/* Test of Parsing WildApricot json */
		echo '<br><br>'."WildApricot Test".'<br><br>';
		#$json2 = '[{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699280,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699280","Name":"Belov, Andrey"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Andrey"},{"FieldName":"Last name","Value":"Belov"},{"FieldName":"e-Mail","Value":"belovandrey@hotmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-25T12:54:36-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12192735,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12192735"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700060,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700060","Name":"Bric, John"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"John"},{"FieldName":"Last name","Value":"Bric"},{"FieldName":"e-Mail","Value":"john.bric@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T16:21:36-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12188335,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12188335"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699281,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699281","Name":"Burgis-Marshall, Tracy"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Tracy"},{"FieldName":"Last name","Value":"Burgis-Marshall"},{"FieldName":"e-Mail","Value":"tracy.burgis@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T17:38:09-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12188903,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12188903"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699282,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699282","Name":"Burke, Claire"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Claire"},{"FieldName":"Last name","Value":"Burke"},{"FieldName":"e-Mail","Value":"cburke1023@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T20:22:23-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12189732,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12189732"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700085,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700085","Name":"Chas, Monika"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Monika"},{"FieldName":"Last name","Value":"Chas"},{"FieldName":"e-Mail","Value":"skybluefields@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-25T20:34:50-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12195253,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12195253"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699288,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699288","Name":"Deithrick, Jacqueline"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Jacqueline"},{"FieldName":"Last name","Value":"Deithrick"},{"FieldName":"e-Mail","Value":"jacdei95@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-30T10:38:21-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12205984,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12205984"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700072,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700072","Name":"DeSoto, Michele"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Michele"},{"FieldName":"Last name","Value":"DeSoto"},{"FieldName":"e-Mail","Value":"micheledesoto@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":false,"RegistrationDate":"2014-12-04T08:33:45-05:00","CheckInStatusChangeDate":"2014-12-04T12:24:43-05:00","CheckInStatusChangedBy":{"Id":25663988,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25663988"},"GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12233145,"Url":"/v2/accounts/178224/EventRegistrations/12233145"},{"Id":12233146,"Url":"/v2/accounts/178224/EventRegistrations/12233146"}]},"Id":12233144,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12233144"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":26445383,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/26445383","Name":"Dolphin, Alex"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Alex"},{"FieldName":"Last name","Value":"Dolphin"},{"FieldName":"e-Mail","Value":"ridlphn@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-01T22:16:12-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12217270,"Url":"/v2/accounts/178224/EventRegistrations/12217270"},{"Id":12217265,"Url":"/v2/accounts/178224/EventRegistrations/12217265"},{"Id":12217268,"Url":"/v2/accounts/178224/EventRegistrations/12217268"},{"Id":12217269,"Url":"/v2/accounts/178224/EventRegistrations/12217269"},{"Id":12217271,"Url":"/v2/accounts/178224/EventRegistrations/12217271"},{"Id":12217266,"Url":"/v2/accounts/178224/EventRegistrations/12217266"},{"Id":12217264,"Url":"/v2/accounts/178224/EventRegistrations/12217264"},{"Id":12217267,"Url":"/v2/accounts/178224/EventRegistrations/12217267"}]},"Id":12217263,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12217263"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699290,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699290","Name":"Ecklund, William"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"William"},{"FieldName":"Last name","Value":"Ecklund"},{"FieldName":"e-Mail","Value":"billyeck2002@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-04T18:11:22-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12237637,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12237637"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699291,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699291","Name":"Elmore, Lauren"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Lauren"},{"FieldName":"Last name","Value":"Elmore"},{"FieldName":"e-Mail","Value":"labelmore@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-01T00:00:00-05:00","Memo":"Maciej, \r\n\r\nLet me know if you see this. Greg and Lupita are the DJ and his wife. They are only staying for Saturday night. Their guest fee comes out of the Social budget, but they are paying for their own meals.\r\n\r\nLauren","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12213372,"Url":"/v2/accounts/178224/EventRegistrations/12213372"},{"Id":12213383,"Url":"/v2/accounts/178224/EventRegistrations/12213383"},{"Id":12213360,"Url":"/v2/accounts/178224/EventRegistrations/12213360"}]},"Id":12213350,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12213350"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700068,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700068","Name":"Fraser, Lynn"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Lynn"},{"FieldName":"Last name","Value":"Fraser"},{"FieldName":"e-Mail","Value":"lcftahoe@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T15:00:00-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12187713,"Url":"/v2/accounts/178224/EventRegistrations/12187713"}]},"Id":12187712,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12187712"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700070,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700070","Name":"Gray, Peggy"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Peggy"},{"FieldName":"Last name","Value":"Gray"},{"FieldName":"e-Mail","Value":"margaret.hallett@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-01T14:34:42-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12213418,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12213418"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699298,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699298","Name":"Gray, Scott"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Scott"},{"FieldName":"Last name","Value":"Gray"},{"FieldName":"e-Mail","Value":"scottgray2011@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-28T08:27:09-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12202488,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12202488"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699293,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699293","Name":"Henson, Rob"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Rob"},{"FieldName":"Last name","Value":"Henson"},{"FieldName":"e-Mail","Value":"rob_p_henson@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-04T20:00:31-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12238023,"Url":"/v2/accounts/178224/EventRegistrations/12238023"}]},"Id":12238022,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12238022"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700079,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700079","Name":"Holbrook, Philip"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Philip"},{"FieldName":"Last name","Value":"Holbrook"},{"FieldName":"e-Mail","Value":"philholb@aol.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-25T14:36:29-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12242098,"Url":"/v2/accounts/178224/EventRegistrations/12242098"},{"Id":12193433,"Url":"/v2/accounts/178224/EventRegistrations/12193433"},{"Id":12193432,"Url":"/v2/accounts/178224/EventRegistrations/12193432"}]},"Id":12193431,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12193431"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699300,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699300","Name":"Lane, Tom"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Tom"},{"FieldName":"Last name","Value":"Lane"},{"FieldName":"e-Mail","Value":"tom_lane@harvard.edu"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T21:55:22-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12190016,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12190016"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25663988,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25663988","Name":"Lecki, Maciej"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Maciej"},{"FieldName":"Last name","Value":"Lecki"},{"FieldName":"e-Mail","Value":"maciu@maciu.net"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-23T22:26:44-05:00","CheckInStatusChangeDate":"2014-11-24T23:56:15-05:00","CheckInStatusChangedBy":{"Id":25663988,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25663988"},"GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12247473,"Url":"/v2/accounts/178224/EventRegistrations/12247473"},{"Id":12247487,"Url":"/v2/accounts/178224/EventRegistrations/12247487"},{"Id":12247484,"Url":"/v2/accounts/178224/EventRegistrations/12247484"},{"Id":12247475,"Url":"/v2/accounts/178224/EventRegistrations/12247475"},{"Id":12247478,"Url":"/v2/accounts/178224/EventRegistrations/12247478"}]},"Id":12184089,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12184089"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699301,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699301","Name":"Levy, Jonathan"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Jonathan"},{"FieldName":"Last name","Value":"Levy"},{"FieldName":"e-Mail","Value":"jonathan.levy@alumni.tufts.edu"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T16:01:19-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12188194,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12188194"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699302,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699302","Name":"Lu, Diana"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Diana"},{"FieldName":"Last name","Value":"Lu"},{"FieldName":"e-Mail","Value":"dluspam@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-25T14:10:05-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12193199,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12193199"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699303,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699303","Name":"Madonia, Lora"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Lora"},{"FieldName":"Last name","Value":"Madonia"},{"FieldName":"e-Mail","Value":"lmadonia@comcast.net"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":false,"RegistrationDate":"2014-11-25T12:17:08-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12192436,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12192436"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699304,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699304","Name":"Marcy, Brett"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Brett"},{"FieldName":"Last name","Value":"Marcy"},{"FieldName":"e-Mail","Value":"bamarcy@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-07T13:43:49-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12246999,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12246999"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700081,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700081","Name":"McHale, Rick"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Rick"},{"FieldName":"Last name","Value":"McHale"},{"FieldName":"e-Mail","Value":"rcmchale@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T15:39:55-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12188019,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12188019"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699305,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699305","Name":"Megias, Mari"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Mari"},{"FieldName":"Last name","Value":"Megias"},{"FieldName":"e-Mail","Value":"marimegias@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-01T10:35:56-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12210301,"Url":"/v2/accounts/178224/EventRegistrations/12210301"}]},"Id":12210300,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12210300"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699306,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699306","Name":"Meroth, John"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"John"},{"FieldName":"Last name","Value":"Meroth"},{"FieldName":"e-Mail","Value":"spider_is_in@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-01T00:17:06-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12208109,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12208109"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699307,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699307","Name":"Morrissey, Julie"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Julie"},{"FieldName":"Last name","Value":"Morrissey"},{"FieldName":"e-Mail","Value":"ooolie@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T15:57:10-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12188172,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12188172"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699310,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699310","Name":"Leary, Kathryn"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Kathryn"},{"FieldName":"Last name","Value":"Leary"},{"FieldName":"e-Mail","Value":"kathryn978@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-08T09:14:39-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12249342,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12249342"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699311,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699311","Name":"Park, Rick"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Rick"},{"FieldName":"Last name","Value":"Park"},{"FieldName":"e-Mail","Value":"rpark1234@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T22:07:53-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12190055,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12190055"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699312,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699312","Name":"Poirier, David"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"David"},{"FieldName":"Last name","Value":"Poirier"},{"FieldName":"e-Mail","Value":"davecrooze@aol.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T16:01:23-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12188195,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12188195"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699313,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699313","Name":"Polito, Joanna"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Joanna"},{"FieldName":"Last name","Value":"Polito"},{"FieldName":"e-Mail","Value":"jepolito1@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-02T22:47:41-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12225265,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12225265"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700056,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700056","Name":"Raphenella, Gina"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Gina"},{"FieldName":"Last name","Value":"Raphenella"},{"FieldName":"e-Mail","Value":"gina@raphanella.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-06T12:26:37-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12244742,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12244742"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700087,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700087","Name":"Stacy, Thomas"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Thomas"},{"FieldName":"Last name","Value":"Stacy"},{"FieldName":"e-Mail","Value":"thomas_stacy@amat.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-08T12:16:38-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":[{"Id":12251325,"Url":"/v2/accounts/178224/EventRegistrations/12251325"}]},"Id":12251324,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12251324"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699318,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699318","Name":"Stokes, Darlene"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Darlene"},{"FieldName":"Last name","Value":"Stokes"},{"FieldName":"e-Mail","Value":"happydee50@gmail.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-12-01T14:26:15-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12213321,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12213321"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700064,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700064","Name":"Szynal, Karolina"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Karolina"},{"FieldName":"Last name","Value":"Szynal"},{"FieldName":"e-Mail","Value":"karolina@szynal.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-23T23:07:52-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12184205,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12184205"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25699321,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25699321","Name":"Vecchi, Jennifer"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Jennifer"},{"FieldName":"Last name","Value":"Vecchi"},{"FieldName":"e-Mail","Value":"chezvino18@yahoo.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-25T11:56:54-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12192261,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12192261"},{"Event":{"StartDate":"2014-12-12T18:00:00-05:00","Id":1803696,"Url":"https://api.wildapricot.org/v2/accounts/178224/Events/1803696","Name":"Christmas Party Weekend Dec 12 - 14 2014"},"Contact":{"Id":25700084,"Url":"https://api.wildapricot.org/v2/accounts/178224/Contacts/25700084","Name":"Waddell, Bob"},"IsCheckedIn":false,"RegistrationFee":0.0,"PaidSum":0.0,"RegistrationTypeId":2391531,"IsPaid":false,"RegistrationFields":[{"FieldName":"First name","Value":"Bob"},{"FieldName":"Last name","Value":"Waddell"},{"FieldName":"e-Mail","Value":"rwaddellnh@aol.com"},{"FieldName":"Meals","Value":null},{"FieldName":"Comments","Value":null}],"ShowToPublic":true,"RegistrationDate":"2014-11-24T18:35:07-05:00","GuestRegistrationsSummary":{"NumberOfGuests":0,"NumberOfGuestsCheckedIn":null,"GuestRegistrations":null},"Id":12189308,"Url":"https://api.wildapricot.org/v2/accounts/178224/EventRegistrations/12189308"}]';
		$jsondata = file_get_contents("C:\\xampp\\htdocs\\p3.spidercode.biz\\controllers\\registrants.json");
		$json = json_decode($jsondata, true);
		
		$output = "";
		foreach($json as $member) {
			$output .= "<em>".$member["Contact"]["Name"]."<br></em>";
		}
		echo $output;
		echo '<br><br>';	

	} # End of method
	
	
} # End of class
